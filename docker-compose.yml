# This setup provides craft already configured with a database and the plugin already installed
# Username is admin
# Password is password

version: '3'
services:
    web:
        image: 'flipbox/php:72-apache'
        depends_on:
            - db
        volumes:
            - '.:/var/www/html/'
        environment:
            XDEBUG_ON: "yes"
            XDEBUG_HOST: "host.docker.internal"
            XDEBUG_IDEKEY: "PHPSTORM"
            DB_SERVER: db
            DB_USER: craft
            DB_PASSWORD: craft
            DB_DATABASE: test
            DB_DRIVER: mysql
#            PLUGIN_REQUIRE: "flipboxfactory/saml-idp"
#            PLUGIN_VERSION: "^1.0.0@dev"
    db:
        image: 'mysql:5.7'
        restart: always
        environment:
            MYSQL_ROOT_PASSWORD: password
            MYSQL_DATABASE: test
            MYSQL_USER: craft
            MYSQL_PASSWORD: craft
